# DataBase 생성
DROP DATABASE IF EXISTS estate;
CREATE DATABASE estate;

# DataBase 사용
use estate;


# 테이블 생성
DROP TABLE IF EXISTS member_tbl;
CREATE TABLE member_tbl (
                            member_no int PRIMARY KEY AUTO_INCREMENT,
                            member_id varchar(50) NOT NULL,
                            member_email varchar(50) NOT NULL,
                            member_name varchar(50) NOT NULL,
                            member_sex tinyint ,
                            member_age int ,
                            member_birthday date ,
                            member_phone varchar(50) ,
                            member_role varchar(50) ,
                            UNIQUE KEY id_email (member_id, member_email)
);


-- ------------------------------------------------------------------------------
# property 관련 테이블 설정!
SET GLOBAL local_infile = 1;
show global variables like 'local_infile';

# property_tbl 관련 추가!
DROP TABLE IF EXISTS property_tbl;

CREATE TABLE property_tbl (
                                  property_no int PRIMARY KEY AUTO_INCREMENT,
                                  property_addr_sigungu_code int not null,
                                  property_addr_sigungu varchar(200) not null,
                                  property_addr_bubjung_code int not null,
                                  property_addr_bubjung varchar(200) not null,
                                  property_addr_bonbun int,
                                  property_addr_bubun int,
                                  property_addr_floor int,
                                  property_addr_building_name varchar(50),
                                  contract_date int,
                                  trade_type varchar(50),
                                  property_building_area float,
                                  deposit int,
                                  rent int,
                                  price int,
                                  property_land_area float,
                                  contract_right_type varchar(50),
                                  contract_type varchar(50),
                                  contract_offce_name varchar(50),
                                  building_year int,
                                  property_type varchar(50),
                                  contract_period varchar(50),
                                  contract_renewed varchar(50),
                                  contract_renew_used varchar(50),
                                  deposit_previous int,
                                  rent_previous int,
                                  property_jibun_juso varchar(200),
                                  location_no int,
                                  formated_date date,
                                  formated_price DECIMAL(10,2),
                                  property_type_code int,
                                  trade_type_code int
);

select * from property_tbl where property_no = 46948;

LOAD DATA LOCAL INFILE './estate_property_tbl_all_final.csv'
    INTO TABLE estate.property_tbl
    FIELDS TERMINATED BY ',' -- 필드 구분자를 콤마로 설정
    OPTIONALLY ENCLOSED BY '"' -- 필드가 큰따옴표로 감싸져 있는 경우 처리
    LINES TERMINATED BY '\n' -- 행 구분자를 줄바꿈으로 설정
    IGNORE 1 ROWS; -- 첫 번째 헤더 행을 무시

# location 관련 tbl
DROP TABLE IF EXISTS property_location;
CREATE TABLE property_location (
                                   location_no int AUTO_INCREMENT PRIMARY KEY,
                                   property_jibun_juso VARCHAR(50) NOT NULL,
                                   property_doro_juso VARCHAR(50),
                                   zipcode int,
                                   x_coordinate VARCHAR(255),
                                   y_coordinate VARCHAR(255),
                                   formated_price DECIMAL(10,2),
                                   jibun_juso VARCHAR(50)

);

LOAD DATA LOCAL INFILE './estate_property_location_final.csv'
    INTO TABLE estate.property_location
    FIELDS TERMINATED BY ',' -- 필드 구분자를 콤마로 설정
    OPTIONALLY ENCLOSED BY '"' -- 필드가 큰따옴표로 감싸져 있는 경우 처리
    LINES TERMINATED BY '\n' -- 행 구분자를 줄바꿈으로 설정
    IGNORE 1 ROWS; -- 첫 번째 헤더 행을 무시
SELECT count(*) from property_location;

-- member_report sample
# desc member_report_tbl;
# desc report_tbl;
# insert into report_tbl (analysis_no, mortgage, violation_structure, contract_start_date, change_ownership_cnt, accord_owner, main_use)
# values (1,0,0,'2024-10-09',3,1,'아파트');
# insert into member_report_tbl (member_no, report_no)
# values (4,1);
# select * from report_tbl;

DROP TABLE IF EXISTS like_property_tbl;
CREATE TABLE like_property_tbl (
                                   like_property_no int PRIMARY KEY AUTO_INCREMENT,
                                   member_no int NOT NULL,
                                   property_no int NOT NULL
);

DROP TABLE IF EXISTS analysis_tbl;
CREATE TABLE analysis_tbl (
                              analysis_no int PRIMARY KEY AUTO_INCREMENT,
                              property_no int NOT NULL
);

DROP TABLE IF EXISTS cor_tbl;
CREATE TABLE cor_tbl (
                         cor_no INT PRIMARY KEY AUTO_INCREMENT,
                         analysis_no INT,
                         owner_state DOUBLE,
                         type_of_ownership VARCHAR(255),
                         common_owner VARCHAR(255),
                         change_owner_count INT,
                         maximum_of_bond bigint
);

DROP TABLE IF EXISTS bml_tbl;
CREATE TABLE bml_tbl (
                         bml_no INT PRIMARY KEY AUTO_INCREMENT,
                         analysis_no INT,
                         violation_structure BOOLEAN,
                         use_type VARCHAR(255)
);
DROP TABLE IF EXISTS report_tbl;
CREATE TABLE report_tbl (
                            report_no int PRIMARY KEY AUTO_INCREMENT,
                            property_no int NOT NULL,
                            analysis_no int NOT NULL,
                            address varchar(50) NOT NULL,
                            violation_structure tinyint NOT NULL,
                            total_score int,
                            deposit int,
                            rent int,
                            price int,
                            jeonse_rate int,
                            maximum_of_bond bigint,
                            ownership varchar(20),
                            change_owner_count int NOT NULL,
                            accord_owner tinyint NOT NULL,
                            common_owner varchar(50),
                            owner_state double,
                            use_type varchar(50) NOT NULL
);

DROP TABLE IF EXISTS member_report_tbl;
CREATE TABLE member_report_tbl (
                                   member_report_no int PRIMARY KEY AUTO_INCREMENT,
                                   member_no int NOT NULL,
                                   report_no int NOT NULL
);

DROP TABLE IF EXISTS common_sense_tbl;
CREATE TABLE common_sense_tbl (
                                  common_sense_no int PRIMARY KEY AUTO_INCREMENT,
                                  common_sense_title varchar(50) NOT NULL,
                                  common_sense_content mediumtext NOT NULL,
                                  piece_sense mediumtext NOT NULL
);

DROP TABLE IF EXISTS like_common_sense_tbl;
CREATE TABLE like_common_sense_tbl (
                                       like_common_sense_no int PRIMARY KEY AUTO_INCREMENT,
                                       member_no int NOT NULL,
                                       common_sense_no int NOT NULL
);

DROP TABLE IF EXISTS scenario_tbl;
CREATE TABLE scenario_tbl (
                              scenario_no int PRIMARY KEY AUTO_INCREMENT,
                              scenario_title varchar(50) NOT NULL,
                              scenario_content mediumtext NOT NULL,
                              scenario_preventive mediumtext NOT NULL
);

DROP TABLE IF EXISTS like_scenario_tbl;
CREATE TABLE like_scenario_tbl (
                                   like_scenario_no int PRIMARY KEY AUTO_INCREMENT,
                                   member_no int NOT NULL,
                                   scenario_no int NOT NULL
);

DROP TABLE IF EXISTS dictionary_tbl;
CREATE TABLE dictionary_tbl (
                                dictionary_no int PRIMARY KEY AUTO_INCREMENT,
                                dictionary_title varchar(50) NOT NULL,
                                dictionary_content mediumtext NOT NULL
);

DROP TABLE IF EXISTS like_dictionary_tbl;
CREATE TABLE like_dictionary_tbl (
                                     like_dictionary_no int PRIMARY KEY AUTO_INCREMENT,
                                     member_no int NOT NULL,
                                     dictionary_no int NOT NULL
);

DROP TABLE IF EXISTS faq_tbl;
CREATE TABLE faq_tbl (
                         faq_no int PRIMARY KEY AUTO_INCREMENT,
                         faq_question mediumtext NOT NULL,
                         faq_answer mediumtext NOT NULL
);

DROP TABLE IF EXISTS prevention_tbl;
CREATE TABLE prevention_tbl (
                                prevention_no int PRIMARY KEY AUTO_INCREMENT,
                                prevention_title varchar(50) NOT NULL,
                                prevention_content mediumtext NOT NULL
);

select * from analysis_tbl;
select * from cor_tbl;
select * from bml_tbl;
select * from report_tbl;


show tables;

# 샘플 데이터
# 회원 샘플
INSERT INTO member_tbl (member_id, member_email, member_name, member_sex, member_birthday, member_phone, member_role)
VALUES
    (
        'N11111', 'one@naver.com', '김일번', 0, '2000-01-01', '010-1111-1111', 'MEMBER'
    ),
    (
        'G22222', 'two@gmail.com', '정이번', 1, '1999-02-02', '010-2222-2222', 'MEMBER'
    ),
    (
        'N33333', 'three@naver.com', '이삼번', 1, '1998-03-03', '010-3333-3333', 'MEMBER'
    );

#부동산 매물 찜 목록
INSERT INTO like_property_tbl (member_no, property_no)
VALUES
    (
        1, 1
    ),
    (
        2, 2
    ),
    (
        3, 3
    );

# 분석
INSERT INTO analysis_tbl (property_no)
VALUES
    (
        1
    ),
    (
        2
    ),
    (
        3
    );


# 레포트



# 회원 레포트 목록
INSERT INTO member_report_tbl (member_no, report_no)
VALUES
    (
        1, 1
    ),
    (
        2, 2
    ),
    (
        3, 3
    );

# 부동산 상식
INSERT INTO common_sense_tbl (common_sense_title, common_sense_content, piece_sense)
VALUES
    ('전세 재계약 시 계약서', '전세보증금이 오르지 않았다면 새로이 계약을 체결하지 않아도 상관 없다. 그러나 전세금을 올려주고 재계약을 할 때는 계약서를 다시 써야한다. 기존 계약서의 전세보증금을 올린 내용을 부기하는 방법도 있지만 기왕이면 새로 계약서를 작성하는 것이 좋다. 이때는 등기부등본을 떼어 계약기간 동안 권리변동은 없는지 근저당과 가압류 등이 추가 설정되지 않았는지 꼭 확인해야한다. 또 전세보증금을 올려주었다면 금액에 대해서는 확정일자도 새로 받아야한다. 다만 이 경우 재계약 전 집주인이 근저당을 설정했다면 올려준 보증금의 변제순위는 뒤로 밀리게 된다.', '재계약하는데 계약서 꼭 다시 써야하나?'),
    ('확정일자와 전입신고', '임차인으로 부동산을 거래한다면, 확정일자를 받고 전입신고를 해야 보증금을 보호받을 수 있다. 확정일자는 임차인의 권리를 보호해주는 중요한 절차로, 만약 건물이 경매로 넘어가더라도 보증금을 우선 변제받을 수 있다.', '확정일자, 전입신고 뭐가 먼저일까?'),
    ('중개수수료', '부동산 거래 시 공인중개사에게 지불하는 중개수수료(중개보수)는 법적으로 정해져 있으며, 거래 금액에 따라 상한선이 다르다. 사전에 중개 수수료를 계산하고, 과다하게 청구되지 않도록 확인하자.', '중개수수료 얼마나 줘야할까?'),
    ('대출한도와 금리', '주택담보대출을 받을 때 대출한도와 금리가 중요한 결정 요소다. 대출 한도는 주택 가격의 일정 비율로 정해지며, 금리는 대출 상환 기간에 따라 고정금리와 변동금리로 나뉜다.', '대출 한도와 금리 어떻게 정해지나?'),
    ('임대차 계약 갱신청구권', '임차인은 2년의 임대차 계약 만료 시점에 한 차례 계약 갱신을 청구할 수 있는 권리가 있다. 이를 통해 최대 4년 동안 거주할 수 있지만, 임대료 인상 한도는 5%를 초과할 수 없다.', '임대차 갱신청구권 언제 써야할까?'),
    ('임대차 보호법', '임차인의 권리를 보호하는 임대차 보호법은 임대차 계약 기간 동안 임차인의 주거권을 보장하고, 임대료 인상률을 제한하는 등 다양한 규정을 포함하고 있다.', '임대차 보호법, 나에게 어떤 혜택이 있을까?'),
    ('주택 임대 소득세', '주택을 임대할 때 발생하는 소득에 대해 소득세를 납부해야 한다. 임대 소득이 일정 금액을 초과하면 이를 신고하고 세금을 내야 하며, 신고하지 않으면 가산세가 부과된다.', '주택 임대 소득세 신고, 어떻게 해야할까?'),
    ('등기부등본 확인 방법', '부동산 거래 시 등기부등본을 확인하는 것은 매우 중요하다. 등기부등본에는 소유권과 근저당, 가압류 등의 정보가 기재되어 있어, 거래할 부동산의 안전성을 확인할 수 있다.', '등기부등본, 무엇을 확인해야 할까?'),
    ('청약 가점제도', '아파트 청약 시 가점제도를 통해 무주택 기간, 부양 가족 수, 청약 통장 가입 기간 등에 따라 점수를 산정하고, 이를 기준으로 당첨자를 선발한다.', '청약 가점, 어떻게 계산되나?'),
    ('청약 경쟁률', '아파트 분양 시 청약 경쟁률은 공급 대비 신청 인원의 비율로 나타나며, 높은 경쟁률일수록 당첨 확률이 낮아진다. 이를 통해 해당 아파트의 인기를 가늠할 수 있다.', '청약 경쟁률 높은 곳이 좋은 곳일까?'),
    ('분양권 전매 제한', '아파트 분양권 전매는 일정 기간 동안 제한될 수 있으며, 이는 주로 투기를 방지하기 위한 목적으로 시행된다. 전매 제한 기간이 끝나기 전에 매도할 수 없다.', '분양권 전매 제한 기간은 어떻게 정해지나?'),
    ('재건축 초과이익환수제', '재건축을 통해 발생하는 초과 이익에 대해 정부가 일정 비율을 환수하는 제도다. 재건축 사업이 완료되면, 추가로 얻은 이익에 대해 세금이 부과된다.', '재건축 초과이익환수제, 나에게 어떤 영향을 미칠까?'),
    ('부동산 양도소득세', '부동산을 양도할 때 발생하는 이익에 대해 부과되는 세금이 양도소득세다. 양도 차익이 클수록 세율이 높아지며, 1가구 1주택의 경우 일정 조건을 충족하면 비과세 혜택을 받을 수 있다.', '양도소득세, 언제 내야 하나?'),
    ('신혼부부 특별공급', '신혼부부를 위한 아파트 특별공급은 가점제와 추첨제를 병행하여 무주택 신혼부부에게 우선 공급하는 제도다. 청약 가점이 부족한 경우에도 기회를 얻을 수 있다.', '신혼부부 특별공급, 어떻게 신청하나?'),
    ('부동산 대출 규제', '정부는 주택 가격 안정화를 위해 LTV(주택담보대출비율), DTI(총부채상환비율) 등의 대출 규제를 시행하고 있다. 이는 주택 구입 시 대출 한도를 제한하는 방식으로 이루어진다.', 'LTV, DTI 규제 어떻게 작용하나?'),
    ('다주택자 취득세', '다주택자가 주택을 추가로 구입할 때 부과되는 취득세는 주택 수에 따라 차등 적용되며, 보유 주택이 많을수록 높은 세율을 적용받게 된다.', '다주택자 취득세는 얼마인가?'),
    ('장기전세주택 제도', '장기전세주택은 일정한 소득 및 자산 기준을 충족하는 사람에게 시세보다 저렴한 전세금을 받고 장기간 거주할 수 있는 주택을 제공하는 제도다.', '장기전세주택, 자격 조건은 무엇인가?'),
    ('분양가 상한제', '분양가 상한제는 아파트 분양 시 시장 가격이 아닌 정부가 정한 기준에 따라 분양가를 책정하는 제도다. 이를 통해 분양가를 인위적으로 낮추어 주택 구매 부담을 줄인다.', '분양가 상한제, 어떻게 적용되나?'),
    ('상가 임대차 보호법', '상가 임차인의 권리를 보호하기 위해 마련된 상가 임대차 보호법은 계약 기간 동안 임차인의 영업권을 보호하고, 임대료 인상을 제한하는 등의 규정을 포함하고 있다.', '상가 임대차 보호법, 어떤 혜택이 있나?'),
    ('오피스텔 전월세 전환율', '오피스텔 임대 시 전세에서 월세로 전환할 때 적용되는 전환율은 정부가 정한 기준에 따라 제한되며, 이를 통해 임대인의 과도한 전환 요구를 방지할 수 있다.', '오피스텔 전월세 전환율 어떻게 적용되나?'),
    ('중도금 대출 이자', '아파트 분양 계약 시 중도금 대출을 받으면, 계약금 이후 중도금 지불 시기에 맞춰 대출을 받고 그에 따른 이자를 부담해야 한다. 이자율은 대출 상품에 따라 다르다.', '중도금 대출 이자는 언제부터 발생하나?'),
    ('부동산 매매 계약 해지', '부동산 매매 계약을 체결한 후 일방적으로 해지할 경우 계약금을 포기해야 하며, 상대방이 계약을 해지하려 할 경우 배액배상을 요구할 수 있다.', '부동산 매매 계약 해지, 어떻게 해야 하나?'),
    ('갭투자 리스크', '갭투자는 전세를 끼고 주택을 매입하여 시세 차익을 노리는 투자 방법이지만, 임차인이 보증금을 돌려받지 못할 경우 소송 등의 리스크가 발생할 수 있다.', '갭투자, 어떤 리스크가 있나?'),
    ('전월세 신고제', '전월세 신고제는 임대차 계약을 체결한 후 30일 이내에 임대인과 임차인이 해당 계약 내용을 신고해야 하는 제도다. 이를 통해 투명한 거래가 가능하다.', '전월세 신고제, 어떻게 신고하나?'),
    ('재개발 투자 가치', '재개발 지역의 부동산은 개발이 완료되면 시세가 상승할 가능성이 크다. 하지만 개발 과정에서 시간이 오래 걸릴 수 있고, 추가 비용이 발생할 수 있다.', '재개발 지역, 투자가치가 있을까?'),
    ('재개발 조합원 자격', '재개발 사업에 참여하는 조합원이 되려면 일정한 자격 요건을 충족해야 하며, 조합원 분양권을 받기 위해서는 분담금 등의 추가 비용을 납부해야 한다.', '재개발 조합원 자격 조건은 무엇인가?'),
    ('도시재생 뉴딜 사업', '정부가 주도하는 도시재생 뉴딜 사업은 낙후된 도시 지역을 재생하여 주거 환경을 개선하고, 지역 경제를 활성화하는 데 중점을 둔다.', '도시재생 뉴딜 사업, 어디에서 진행되나?'),
    ('거래가 공개 시스템', '부동산 실거래가는 정부가 운영하는 거래가 공개 시스템을 통해 확인할 수 있다. 이를 통해 특정 지역의 최신 거래 동향을 파악할 수 있다.', '실거래가 공개 시스템, 어떻게 이용하나?'),
    ('아파트 관리비', '아파트 관리비는 매달 발생하는 공용 공간 관리, 청소, 경비 등과 관련된 비용이다. 관리비 항목은 투명하게 공개되어야 하며, 과도한 비용이 청구되지 않도록 관리할 필요가 있다.', '아파트 관리비, 어떻게 절감할 수 있나?'),
    ('역세권 아파트의 장점', '역세권에 위치한 아파트는 교통 편의성이 높아 주거 수요가 많고, 그로 인해 가격 상승 가능성도 크다. 다만 역세권에 따라 소음 등의 단점도 있을 수 있다.', '역세권 아파트, 어디가 좋을까?'),
    ('전세금 반환보증제도', '전세 계약 만료 시 임대인이 전세금을 돌려주지 못할 경우 보증기관이 이를 대신 반환해주는 전세금 반환보증제도가 있다.', '전세금 반환보증, 어떻게 가입하나?'),
    ('주택 매매 시 감정평가', '주택 매매 시 감정평가는 해당 주택의 시세를 파악하고, 적정한 거래가 이루어질 수 있도록 도와주는 중요한 절차다. 감정가는 매매가와 다를 수 있다.', '주택 감정평가, 어떻게 받나?'),
    ('입주자 사전 점검', '아파트 입주 전에 사전 점검을 통해 하자 여부를 확인하고, 이를 보수하도록 요구할 수 있는 절차가 입주자 사전 점검이다. 입주 전에 반드시 점검해야 한다.', '입주자 사전 점검, 무엇을 확인해야 할까?'),
    ('분양권 양도세', '분양권을 양도할 때 발생하는 양도 차익에 대해서도 양도소득세가 부과된다. 다만 분양권 거래의 특성상 양도세율이 다소 높게 책정될 수 있다.', '분양권 양도세율, 얼마인가?'),
    ('미분양 아파트 투자', '미분양 아파트는 시세보다 저렴하게 구입할 수 있는 기회가 될 수 있지만, 수요가 낮다는 점에서 위험 요소도 존재한다. 지역과 시세를 꼼꼼히 분석할 필요가 있다.', '미분양 아파트, 투자가치가 있을까?'),
    ('오피스텔 투자', '오피스텔은 주거와 업무를 동시에 해결할 수 있어 실거주 및 임대 수익을 동시에 기대할 수 있는 상품이다. 하지만 상가로 분류되어 세금 부담이 클 수 있다.', '오피스텔, 투자로 괜찮을까?'),
    ('리모델링 투자', '기존 주택을 리모델링하여 가치를 높이는 투자 방식이다. 리모델링 후 주택 가치 상승을 기대할 수 있지만, 리모델링 비용 대비 이익이 높지 않을 수 있다.', '리모델링, 투자로 가치 있을까?')
;
select * from like_dictionary_tbl;
select * from member_tbl;
# 부동산 상식 찜 목록
INSERT INTO like_common_sense_tbl (member_no, common_sense_no)
VALUES
    (
        1, 1
    ),
    (
        2, 2
    ),
    (
        3, 3
    );

# 부동산 사기 시나리오
INSERT INTO scenario_tbl (scenario_title, scenario_content, scenario_preventive)
VALUES
    (
        '유령 부동산 사기',
        '존재하지 않는 부동산을 매물로 내놓고, 계약금이나 중도금을 받은 후 사라지는 경우입니다. 사기꾼은 허위 부동산 광고나 가짜 계약서를 통해 피해자에게 접근합니다.',
        '등기부등본을 확인하여 해당 부동산이 실제 존재하는지, 소유자가 맞는지 확인하는 것이 중요합니다.'
    ),
    (
        '이중 계약 사기',
        '같은 부동산을 여러 사람과 동시에 계약하거나, 기존 계약자를 속여 계약을 파기하고 새로운 계약자를 찾아 더 높은 가격으로 판매하는 경우입니다. 특히 시세가 급등하는 지역에서 자주 발생합니다.',
        '계약서 작성 후 신속하게 등기 절차를 진행해 소유권을 확보하고, 중도금과 잔금 지급 시 각 단계에서 계약 진행 상황을 확인해야합니다.'
    ),
    (
        '전세 사기',
        '집주인이 아닌 제3자가 집주인인 척하면서 전세 계약을 체결하거나, 실제 집주인이 대출로 인한 과다 근저당 설정을 숨기고 전세 계약을 체결하는 경우입니다. 전세금 반환 능력이 없는 상태에서 전세 계약이 이루어져 피해자가 전세금을 돌려받지 못하게 됩니다.',
        '계약 전 등기부등본에서 근저당 설정 여부와 대출 상태를 반드시 확인하고, 임차인으로서 보증금을 보호받기 위한 전세보증보험 가입을 고려해야합니다.'
    );

# 부동산 사기 시나리오 찜 목록
INSERT INTO like_scenario_tbl (member_no, scenario_no)
VALUES
    (
        1, 1
    ),
    (
        2, 2
    ),
    (
        3, 3
    );

# 부동산 용어 사전
INSERT INTO dictionary_tbl (dictionary_title, dictionary_content)
VALUES
    (
        '근저당권',
        '근저당권은 대출을 받을 때 담보로 제공된 부동산에 대해 설정되는 권리입니다. 채권자가 채무자가 대출금을 갚지 못할 경우 해당 부동산을 경매로 넘겨 채권을 회수할 수 있는 권리를 가집니다. 근저당은 원금뿐 아니라 이자를 포함한 추가 비용까지도 담보로 설정할 수 있기 때문에, 매매나 임대 계약 시 반드시 확인해야합니다. 부동산에 근저당이 설정되어 있다면, 대출 상환이 완료되기 전까지 해당 부동산은 완전한 소유권을 주장하기 어렵습니다.'
    ),
    (
        '지분경매',
        '지분경매는 부동산의 소유권이 여러 사람에게 나뉘어 있을 때, 한 사람의 지분에 대해 경매를 진행하는 방식입니다. 전체 부동산을 대상으로 하는 경매가 아니라, 공유자의 지분만 경매로 넘기는 것입니다. 지분을 매수한 사람은 해당 부동산의 일부 소유권을 가지지만, 다른 소유자와 협의 없이 단독으로 처분하거나 사용할 수 없는 경우가 많습니다. 따라서 지분경매는 소유권 분쟁이 있거나 불안정한 권리 관계를 동반할 수 있습니다.'
    ),
    (
        '환매조건부 매매',
        '환매조건부 매매는 부동산을 매도한 후 일정 기간 내에 다시 매수할 수 있는 권리가 부여된 매매 계약입니다. 즉, 매도인이 일정 기간 내에 매도 대금을 돌려주고 부동산을 다시 사들일 수 있는 조건이 포함된 거래입니다. 환매권이 행사되지 않으면 매수인이 부동산의 완전한 소유권을 유지하게 됩니다. 주로 부동산 매도자가 일시적으로 자금이 필요할 때 활용되는 방식입니다.'
    ),
    (
        '대지권',
        '대지권은 건축물의 토지 사용 권리를 말합니다. 주로 아파트나 오피스텔 같은 집합 건물의 경우, 건축물이 위치한 토지에 대해 소유권을 가지는 것이 아니라 그 토지를 사용하는 권리를 대지권이라고 합니다. 이는 건물과 함께 불가분의 관계를 가지며, 대지권이 없는 건물은 불법 건축물로 간주될 수 있습니다.'
    ),
    (
        '전세권',
        '전세권은 임차인이 일정 금액의 보증금을 집주인에게 맡기고, 그 집에 일정 기간 거주할 권리를 말합니다. 임대인이 보증금을 반환하지 못할 경우, 임차인은 해당 부동산을 경매로 넘겨 보증금을 회수할 수 있는 권리를 가집니다. 전세권은 등기부에 기재되어 있어야만 법적 효력이 발생합니다.'
    ),
    (
        '임대차보호법',
        '임대차보호법은 임차인의 권리를 보호하기 위한 법률입니다. 이 법은 임차인이 주택에서 안정적으로 거주할 수 있도록 보증금 반환, 계약 갱신 요구권 등을 규정합니다. 특히 임차인은 계약 종료 후에도 일정 기간 동안 임대인이 보증금을 반환할 때까지 거주할 수 있는 권리를 가집니다.'
    ),
    (
        '매매 계약',
        '매매 계약은 부동산을 사고팔 때 체결하는 계약서로, 매도인과 매수인 간의 권리와 의무를 명시한 문서입니다. 매매 가격, 계약금, 잔금, 계약 해제 조건, 등기 이전 절차 등을 포함하여 작성됩니다. 매매 계약서는 부동산 거래의 가장 중요한 서류 중 하나로, 법적으로 중요한 효력을 가집니다.'
    ),
    (
        '등기부등본',
        '등기부등본은 부동산의 소유권 및 권리 관계를 기록한 공적인 서류입니다. 이 서류에는 소유자 정보, 저당권 설정 여부, 가압류 등 부동산에 관련된 모든 권리 사항이 기재됩니다. 부동산 거래 시 등기부등본을 확인하는 것은 필수적입니다.'
    ),
    (
        '임차권',
        '임차권은 임차인이 일정 기간 동안 부동산을 빌려 사용할 수 있는 권리를 말합니다. 임차권은 임대차 계약을 통해 발생하며, 계약 기간 동안 임차인은 해당 부동산을 사용하거나 수익을 얻을 수 있습니다. 임대인이 임차인의 권리를 침해할 경우 법적으로 보호받을 수 있습니다.'
    ),
    (
        '재건축',
        '재건축은 노후된 건물을 허물고 새롭게 건축하는 것을 말합니다. 주로 아파트나 상가 건물에서 이루어지며, 재건축을 통해 더 높은 가치의 부동산을 얻을 수 있는 장점이 있습니다. 하지만 재건축을 위해서는 주민들의 동의와 정부의 승인이 필요합니다.'
    ),
    (
        '재개발',
        '재개발은 낙후된 지역을 대상으로 새롭게 개발하는 것을 의미합니다. 기존 건물을 철거하고 새로운 건축물을 세우거나, 도로나 공원을 새로 조성하는 등의 작업이 포함됩니다. 재개발은 도시의 기능과 미관을 개선하기 위한 목적으로 이루어지며, 사업 추진 시 공공기관과의 협력이 중요합니다.'
    ),
    (
        '담보권',
        '담보권은 채무자가 채권자에게 빚을 갚지 못할 경우, 채권자가 채무자의 자산을 처분해 채권을 회수할 수 있는 권리를 말합니다. 부동산을 담보로 제공하는 경우, 부동산에 담보권이 설정됩니다. 근저당권, 저당권 등이 담보권의 대표적인 예입니다.'
    ),
    (
        '저당권',
        '저당권은 부동산을 담보로 제공하고, 채무자가 빚을 갚지 못할 경우 채권자가 그 부동산을 처분하여 채권을 회수할 수 있는 권리입니다. 저당권은 근저당권과 유사하나, 원금만을 대상으로 하며, 변동된 채무액을 반영하지 않습니다. 등기부에 등록해야 효력이 발생합니다.'
    ),
    (
        '분양권',
        '분양권은 아파트나 오피스텔 등의 건물을 분양받을 수 있는 권리입니다. 아직 준공되지 않은 상태에서 분양 계약을 통해 취득할 수 있으며, 건물이 완공되면 소유권으로 전환됩니다. 분양권을 양도하는 경우, 별도의 세금이 부과될 수 있습니다.'
    ),
    (
        '계약갱신청구권',
        '계약갱신청구권은 임차인이 임대차 계약 종료 시점에 계약을 갱신할 수 있는 권리입니다. 법적으로 일정 조건을 만족하면 임대인은 임차인의 갱신 요구를 거절할 수 없습니다. 이는 주거 안정성을 높이기 위한 제도 중 하나입니다.'
    ),
    (
        '토지이용계획',
        '토지이용계획은 특정 지역의 토지를 어떻게 활용할지에 대한 계획을 의미합니다. 주거지, 상업지, 공업지 등의 용도로 분류되며, 도시 개발 및 관리에 중요한 기준이 됩니다. 토지이용계획을 통해 건축물의 종류와 용도, 밀도 등을 규제할 수 있습니다.'
    ),
    (
        '대출한도',
        '대출한도는 금융기관이 부동산을 담보로 대출해줄 수 있는 최대 금액을 말합니다. 대출한도는 부동산의 가치를 기반으로 산정되며, 담보 평가와 채무자의 신용 상태에 따라 결정됩니다. 대출한도는 부동산 매입 시 중요한 기준이 됩니다.'
    ),
    (
        '경매',
        '경매는 채무자가 채무를 갚지 못할 경우, 법원을 통해 채무자의 부동산을 매각하여 채권을 회수하는 절차입니다. 경매는 공개적으로 진행되며, 가장 높은 가격을 제시한 사람이 해당 부동산을 구매하게 됩니다. 근저당권 등이 설정된 부동산은 경매로 처분될 수 있습니다.'
    ),
    (
        '지분권',
        '지분권은 부동산의 공동 소유자가 자신의 지분만큼 권리를 행사할 수 있는 권리를 의미합니다. 부동산을 여러 사람이 공유할 경우 각자의 지분에 따라 소유권을 나누어 가지며, 지분에 따른 이익이나 비용도 분배됩니다.'
    ),
    (
        '분양가상한제',
        '분양가상한제는 아파트 등 주거용 건물의 분양 가격을 일정 한도 내에서 규제하는 제도입니다. 정부가 분양가를 제한하여 무분별한 부동산 가격 상승을 막기 위한 조치입니다. 이 제도는 서민 주거 안정화를 목적으로 시행됩니다.'
    ),
    (
        '임차보증금',
        '임차보증금은 임차인이 임대인에게 지급하는 금액으로, 임대차 계약이 종료될 때 반환받을 수 있습니다. 주로 전세나 월세 계약에서 사용되며, 보증금은 임대인이 임차인의 채무를 담보하기 위한 목적으로 사용됩니다.'
    ),
    (
        '임대차계약',
        '임대차계약은 임대인이 일정 금액의 보증금을 받고, 임차인에게 일정 기간 동안 부동산을 사용하도록 허용하는 계약입니다. 계약서에는 임대료, 보증금, 계약 기간, 유지보수 책임 등 세부 사항이 명시되며, 법적 효력을 가집니다.'
    ),
    (
        '건축물대장',
        '건축물대장은 건축물의 구조, 용도, 면적 등의 정보를 기록한 공적인 문서입니다. 이 대장은 부동산 거래 시 중요한 참고 자료로 사용되며, 건축물의 적법성을 확인할 수 있는 수단이 됩니다.'
    ),
    (
        '도시개발계획',
        '도시개발계획은 특정 도시 지역의 개발 방향을 결정하는 계획을 의미합니다. 이 계획을 통해 도시의 성장 방향을 조절하고, 인프라 구축 및 재개발 등을 체계적으로 진행할 수 있습니다.'
    ),
    (
        '투기과열지구',
        '투기과열지구는 부동산 가격 상승이 지나치게 급격하게 일어나는 지역을 말합니다. 정부는 투기과열지구로 지정된 지역에 대해 대출 규제, 세금 인상 등의 조치를 취해 부동산 시장의 안정을 도모합니다.'
    ),
    (
        '임차보호등기',
        '임차보호등기는 임차인이 임대차 계약 종료 후에도 보증금을 반환받을 때까지 법적으로 보호받을 수 있도록 등기부에 기재하는 절차입니다. 이를 통해 임차인은 임대인이 부동산을 매각하더라도 보증금을 회수할 권리를 유지할 수 있습니다.'
    ),
    (
        '장기전세',
        '장기전세는 일정 기간 동안 낮은 임대료로 주택을 임대받을 수 있는 제도입니다. 보통 정부나 공공기관이 주관하여 저소득층을 대상으로 제공되며, 계약 기간 동안 임대료가 일정하게 유지됩니다.'
    ),
    (
        '후분양제',
        '후분양제는 건축물이 완공된 후에 분양하는 제도를 말합니다. 후분양제는 분양 시점에 건물이 이미 완성되어 있기 때문에, 분양자들이 건축 상태를 직접 확인할 수 있는 장점이 있습니다.'
    ),
    (
        '준공검사',
        '준공검사는 건축물이 완공된 후, 해당 건물이 법적 기준을 충족하는지 여부를 확인하는 절차입니다. 준공검사를 통과해야만 해당 건축물이 사용 승인을 받을 수 있으며, 사용 승인 후 입주가 가능합니다.'
    ),
    (
        '토지매입비용',
        '토지매입비용은 부동산 개발 또는 건축을 위해 토지를 매입할 때 드는 비용을 말합니다. 이 비용에는 토지 자체의 가격뿐만 아니라 각종 세금, 중개수수료 등이 포함됩니다.'
    ),
    (
        '건폐율',
        '건폐율은 대지 면적 대비 건축물의 바닥 면적이 차지하는 비율을 의미합니다. 이는 건물의 밀도를 규제하기 위한 기준으로 사용되며, 건축 가능한 건물의 크기를 결정하는 중요한 요소입니다.'
    ),
    (
        '용적률',
        '용적률은 대지 면적 대비 건축물의 총 층수 면적의 비율을 말합니다. 용적률은 주거 및 상업 지역의 개발 계획에서 중요한 기준으로 작용하며, 특정 지역의 개발 밀도를 조절하는 역할을 합니다.'
    ),
    (
        '재산세',
        '재산세는 소유한 부동산에 부과되는 세금입니다. 부동산의 공시지가를 기준으로 산정되며, 주택, 상가, 토지 등의 종류에 따라 세율이 다릅니다. 재산세는 매년 부과되며, 지방자치단체의 주요 재원 중 하나입니다.'
    ),
    (
        '취득세',
        '취득세는 부동산을 취득할 때 부과되는 세금입니다. 매매, 증여, 상속 등을 통해 부동산을 취득하는 모든 경우에 발생하며, 부동산 가격을 기준으로 세율이 산정됩니다. 취득세는 일회성 세금으로, 취득 시점에만 부과됩니다.'
    ),
    (
        '공시지가',
        '공시지가는 정부에서 매년 공시하는 부동산의 표준가격입니다. 이는 토지나 건물의 세금 부과 기준으로 사용되며, 부동산 거래 시 중요한 참고 자료로 활용됩니다. 공시지가는 시장 가격과는 다소 차이가 있을 수 있습니다.'
    ),
    (
        '대출금리',
        '대출금리는 금융기관에서 대출을 받을 때 적용되는 이자의 비율을 의미합니다. 대출금리는 고정금리와 변동금리로 나뉘며, 대출 상환 기간 동안의 금리 변동 여부에 따라 선택할 수 있습니다.'
    ),
    (
        '양도소득세',
        '양도소득세는 부동산을 양도(판매)할 때 발생하는 소득에 대해 부과되는 세금입니다. 양도 차익을 기준으로 세율이 산정되며, 부동산 매매를 통해 이익을 얻는 경우에는 반드시 신고하고 납부해야 합니다.'
    ),
    (
        '상속세',
        '상속세는 사망으로 인해 상속받은 부동산에 대해 부과되는 세금입니다. 상속 재산의 총액을 기준으로 세율이 산정되며, 일정 금액 이상을 상속받는 경우에는 상속세를 납부해야 합니다.'
    ),
    (
        '보유세',
        '보유세는 부동산을 소유한 사람에게 매년 부과되는 세금입니다. 재산세와 종합부동산세가 대표적인 보유세에 해당하며, 부동산의 가치를 기준으로 세율이 정해집니다. 보유세는 부동산 시장 안정을 위해 도입되었습니다.'
    ),
    (
        '종합부동산세',
        '종합부동산세는 일정 금액 이상의 부동산을 소유한 사람에게 부과되는 세금입니다. 주택 및 토지의 공시지가를 기준으로 부과되며, 다주택자나 고가의 부동산을 소유한 경우에 높은 세율이 적용됩니다.'
    ),
    (
        '명의신탁',
        '명의신탁은 실제 소유자가 아닌 제3자의 명의로 부동산을 소유하는 것을 말합니다. 주로 부동산 투기나 세금 회피를 목적으로 사용되며, 법적으로 규제 대상입니다.'
    ),
    (
        '공동명의',
        '공동명의는 한 부동산을 두 명 이상이 공동으로 소유하는 것을 말합니다. 공동 소유자들은 지분에 따라 소유권을 나누어 가지며, 세금이나 이익 분배 또한 지분에 따라 처리됩니다.'
    ),
    (
        '가압류',
        '가압류는 채권자가 채무자의 재산을 미리 확보하기 위해 법원에 신청하는 절차입니다. 주로 재판을 통해 채권을 확정하기 전, 채무자가 재산을 처분하지 못하게 하기 위한 조치로 사용됩니다.'
    ),
    (
        '가처분',
        '가처분은 법원에서 본안 판결 전까지 부동산의 처분이나 사용을 제한하는 임시 명령입니다. 주로 소송 과정에서 부동산의 처분이나 사용을 금지하는 목적으로 신청됩니다.'
    ),
    (
        '경계측량',
        '경계측량은 토지의 정확한 경계선을 측정하는 작업입니다. 주로 분쟁 예방을 위해 시행되며, 건축이나 개발 전에 필수적으로 이루어집니다.'
    ),
    (
        '권리금',
        '권리금은 상가 임차인이 영업에 필요한 권리나 시설을 다음 임차인에게 양도할 때 받는 금액입니다. 권리금은 임차인 간의 거래이므로 법적 보호를 받지 못할 수 있습니다.'
    ),
    (
        '기타주택',
        '기타주택은 단독주택이나 아파트 이외의 주거시설을 의미합니다. 예를 들어 다세대주택, 다가구주택 등이 이에 포함됩니다.'
    ),
    (
        '기부채납',
        '기부채납은 민간 사업자가 공공시설이나 토지를 정부나 지방자치단체에 무상으로 제공하는 것을 의미합니다. 주로 대규모 개발 사업에서 이루어집니다.'
    ),
    (
        '기한부 매매',
        '기한부 매매는 일정 기간 동안 매매 조건을 충족하지 않으면 매매 계약이 취소되는 조건부 계약을 말합니다.'
    ),
    (
        '나대지',
        '나대지는 건축물이 없는 빈 땅을 의미합니다. 개발되지 않은 상태의 토지로, 주로 향후 개발 계획이 있는 경우가 많습니다.'
    ),
    (
        '누수보수',
        '누수보수는 건물에서 발생하는 물의 누수를 막기 위해 시행하는 수리 작업입니다. 주로 아파트나 공동주택에서 많이 발생하며, 관리사무소에서 처리하거나 개인이 진행합니다.'
    ),
    (
        '다세대주택',
        '다세대주택은 여러 가구가 한 건물 내에서 독립적으로 생활할 수 있는 구조를 가진 주택입니다. 주로 저층 건물로 이루어져 있으며, 공동주택의 일종입니다.'
    ),
    (
        '단독경매',
        '단독경매는 특정 채권자의 요청에 따라 한 사람의 부동산을 경매에 부치는 절차입니다. 다수의 채권자가 아닌 한 명의 채권자만이 경매를 신청하는 경우에 해당됩니다.'
    ),
    (
        '대체부동산',
        '대체부동산은 특정 목적을 위해 기존 부동산을 대체하여 사용할 수 있는 부동산을 의미합니다. 주로 개발 사업에서 기존 토지나 건물이 사용 불가능할 때 이를 대체할 자산으로 활용됩니다.'
    ),
    (
        '대출 상환 기간',
        '대출 상환 기간은 부동산을 담보로 대출을 받은 후, 대출금을 상환해야 하는 기간을 말합니다. 대출 상환 기간은 대출 조건에 따라 다르며, 상환 기간이 길수록 이자 부담이 증가할 수 있습니다.'
    ),
    (
        '도시재생',
        '도시재생은 낙후된 도시 지역을 새롭게 개발하고 활성화하는 정책을 의미합니다. 주로 주거환경 개선, 상업지역 활성화, 교통 인프라 확충 등을 목표로 합니다.'
    ),
    (
        '도시개발사업',
        '도시개발사업은 특정 도시나 지역의 발전을 위해 정부나 민간이 시행하는 개발 프로젝트를 말합니다. 도로, 공원, 주택 등 인프라를 확충하는 것이 주된 목적입니다.'
    ),
    (
        '등기부등본 발급',
        '등기부등본 발급은 부동산의 소유권 및 권리 관계를 확인하기 위해 발급받는 서류입니다. 부동산 거래나 대출 시 반드시 발급받아야 합니다.'
    ),
    (
        '미등기 부동산',
        '미등기 부동산은 아직 등기부에 등록되지 않은 부동산을 의미합니다. 미등기 상태의 부동산은 법적 권리가 불안정할 수 있습니다.'
    ),
    (
        '법원경매',
        '법원경매는 채무 불이행으로 인해 법원이 부동산을 강제로 매각하는 절차입니다. 법원경매는 공정한 절차를 거치며, 입찰을 통해 낙찰자를 선정합니다.'
    ),
    (
        '보존등기',
        '보존등기는 토지나 건물이 처음으로 등기부에 등록될 때 이루어지는 등기 절차입니다. 소유권을 확정하고 법적으로 보호받기 위해 필수적인 절차입니다.'
    ),
    (
        '사유지',
        '사유지는 개인이나 법인이 소유한 토지를 의미합니다. 사유지는 소유자가 재산권을 행사할 수 있으며, 매매나 임대가 가능합니다.'
    ),
    (
        '소형주택',
        '소형주택은 면적이 작은 주택을 의미하며, 주로 1인 가구나 신혼부부를 대상으로 한 주거 형태입니다. 임대료가 비교적 저렴하여 젊은 층이 선호합니다.'
    ),
    (
        '수분양자',
        '수분양자는 아파트나 상가 등의 분양을 받은 사람을 의미합니다. 분양 계약을 체결한 후, 잔금을 지급하면 소유권을 이전받을 수 있습니다.'
    ),
    (
        '신탁',
        '신탁은 자산 소유자가 자신의 재산을 관리할 사람에게 맡기고, 그 관리인을 통해 재산을 운영하거나 처분하는 제도입니다. 주로 부동산 신탁이 많이 사용됩니다.'
    ),
    (
        '실거래가',
        '실거래가는 부동산이 실제로 거래된 가격을 말하며, 정부가 관리하는 시스템에 등록됩니다. 시장 가격과 실거래가의 차이를 통해 부동산 시세를 파악할 수 있습니다.'
    ),
    (
        '양도계약',
        '양도계약은 부동산의 소유권을 다른 사람에게 이전하는 계약을 의미합니다. 매매 계약과 유사하지만, 일정한 조건을 만족해야 성립됩니다.'
    ),
    (
        '원룸',
        '원룸은 한 개의 방에 거실, 주방, 침실 기능이 모두 포함된 주거 공간을 말합니다. 주로 1인 가구를 대상으로 하며, 도시에서 많이 볼 수 있는 주거 형태입니다.'
    ),
    (
        '이전등기',
        '이전등기는 부동산의 소유권이 매매나 증여 등을 통해 다른 사람에게 이전될 때 이루어지는 등기 절차입니다. 소유권 이전이 완료되면 법적으로 새로운 소유자가 됩니다.'
    ),
    (
        '임대보증금 반환보증',
        '임대보증금 반환보증은 임대차 계약 종료 시 임대인이 임차인에게 보증금을 반환하지 않을 경우, 보험 회사가 이를 대신 지급해 주는 제도입니다. 임차인의 보증금 보호를 위한 장치입니다.'
    ),
    (
        '전유부분',
        '전유부분은 공동주택에서 소유자가 독립적으로 사용할 수 있는 부분을 말합니다. 아파트에서 각 가구가 속한 공간이 이에 해당하며, 공동주택에서는 전유부분과 공용부분이 구분됩니다.'
    ),
    (
        '조정대상지역',
        '조정대상지역은 부동산 가격 상승이 급격한 지역에 대해 정부가 지정한 지역을 말합니다. 조정대상지역에서는 대출 규제나 세금 혜택 제한 등이 강화됩니다.'
    ),
    (
        '주택임대차보호법',
        '주택임대차보호법은 임대차 계약에서 임차인의 권리를 보호하기 위한 법률입니다. 임대료 인상 제한, 계약 갱신 청구권 등이 주요 내용입니다.'
    ),
    (
        '층간소음',
        '층간소음은 공동주택에서 위층과 아래층 사이에 발생하는 소음을 말합니다. 주로 발소리나 가구 이동 소리가 문제가 되며, 이를 해결하기 위한 법적, 기술적 장치가 마련되고 있습니다.'
    );

# 부동산 용어 사전 찜 목록
INSERT INTO like_dictionary_tbl (member_no, dictionary_no)
VALUES
    (
        1, 1
    ),
    (
        2, 2
    ),
    (
        3, 3
    );

# 부동산 사기 예방
INSERT INTO prevention_tbl (prevention_title, prevention_content)
VALUES
    (
        '가짜 소유권 주장 사기', '부동산 사기 중에는 가짜 소유권을 주장하는 경우가 많습니다. 부동산 소유자로 속이는 사람이 진짜 소유자가 아닌 경우가 있는데, 이를 막기 위해 등기부 등본을 반드시 확인해야 합니다. 등기부 등본은 해당 부동산의 실제 소유자와 권리 상태를 알려주는 공식 문서입니다.'
    ),
    (
        '허위 매물 사기', '시세보다 훨씬 저렴한 가격으로 매물을 내놓고 계약금을 받은 후 사라지는 경우가 많습니다. 시세보다 과도하게 낮은 매물은 허위 매물일 가능성이 크므로 조심해야 합니다. 항상 현장 방문을 통해 실물을 확인하고, 중개업소가 정식 등록된 곳인지 검증하는 것이 중요합니다.'
    ),
    (
        '이중 계약 및 이중 매매 사기', '같은 부동산을 여러 사람에게 팔거나, 임차 계약을 여러 명과 체결하는 방식입니다. 이를 방지하기 위해서 계약 전 등기부 등본을 확인하고, 거래 당일 등기부를 재발급받아 최근 거래 상태를 다시 점검해야 합니다. 만약 이미 다른 사람과 계약이 체결된 상태라면 등기부에 이중 계약 내역이 나타날 것입니다.'
    ),
    (
        '위임장 사기', '미완성 건물이나 예정지에서 허위 분양 광고를 통해 사기를 치는 경우가 있습니다. 분양 사기에서는 건물이 실제로 완공되지 않거나, 분양 승인이 나지 않은 상태에서 계약금만 받고 사라지는 경우가 많습니다. 분양 승인 서류를 확인하고, 신뢰할 수 있는 시공사와 협약이 맺어져 있는지 검토해야 합니다.'
    ),
    (
        '가짜 임대차보호 사기', '주택 임대차 시 보증금을 지키지 못하게 만드는 사기입니다. 특히 전세 사기에서 많이 발생하며, 소유자가 보증금을 받고도 이를 돌려줄 능력이 없거나, 다수의 세입자를 모집한 후 보증금을 받아 도주하는 경우가 있습니다. 이를 방지하기 위해 전세 계약 시 반드시 전입신고와 확정일자를 받아야 하며, 임대인의 신용 상태와 부동산의 저당권 상태도 확인해야 합니다.'
    ),
    (
        '명도 거부 사기', '부동산 매매 계약 후 기존 세입자가 나가지 않거나, 명도(부동산을 비워주는 것)를 거부하는 사례가 있습니다. 이를 막기 위해서는 계약 전에 세입자와의 명도 계약을 명확히 하고, 필요시 법적 서류로 보장받아야 합니다.'
    ),
    (
        '계약서 날인 사기', '계약서에 중요한 사항을 포함하지 않거나, 특정 조건을 구두로만 약속하는 경우 사기로 이어질 수 있습니다. 계약서에 모든 조건을 명시하고, 구두로 한 약속을 서류로 작성해 남기는 것이 중요합니다. 계약서를 주고받을 때 상대방이 서명한 계약서가 맞는지 확인하는 것도 필요합니다.'
    ),
    (
        '가짜 중개인 사기', '정식으로 등록되지 않은 가짜 중개인이 부동산 거래를 알선하고, 계약금을 가로채는 경우도 많습니다. 중개인이 속해 있는 부동산 중개업소가 정부에 등록된 곳인지 확인하고, 중개인이 부동산 공인중개사 자격증을 보유하고 있는지 반드시 확인해야 합니다.'
    ),
    (
        '피싱 사기', '계약 과정에서 사이버 범죄를 통해 계약금이나 잔금을 가로채는 사기도 존재합니다. 특히 계좌 변경 요청 등의 이메일이나 문자를 통해 잘못된 계좌로 입금하게 만드는 경우가 있으니, 계좌 번호를 변경할 때는 반드시 전화나 대면 확인을 해야 합니다.'
    ),
    (
        '토지 및 건축물 사기', '토지나 건물을 사기 위해 계약을 체결할 때, 해당 토지가 실제로 건축이 가능한지 확인하지 않고 사는 경우가 있습니다. 사기꾼은 건축 제한이 있는 토지를 아무 문제가 없는 토지로 속여 파는 경우가 많습니다. 이를 방지하려면 토지이용계획 확인서와 건축 허가 서류를 반드시 확인해야 합니다. 도시계획, 용도지역, 지목 등이 거래 목적에 맞는지 확인하는 것도 중요합니다.'
    ),
    (
        '허위 경매 물건 사기', '경매에 참여하는 사람들을 속여 허위 경매 물건을 제시하고 돈을 가로채는 경우가 있습니다. 경매 물건은 주로 가격이 저렴하다는 이유로 많은 사람들이 관심을 가지는데, 사기꾼들은 이를 이용해 존재하지 않거나 소유권 분쟁이 있는 물건을 경매에 내놓습니다. 이를 예방하기 위해선 법원에서 공식 경매 정보를 확인하고, 신뢰할 수 있는 경매 전문가와 함께 참여하는 것이 좋습니다.'
    ),
    (
        '신탁 사기', '신탁된 부동산을 거래하는 경우, 신탁사의 동의 없이 거래가 이루어지는 경우가 있습니다. 신탁된 부동산은 신탁사의 허가 없이는 매매가 불가능하지만, 이를 속이고 소유권을 이전할 수 있다고 사기 치는 경우가 많습니다. 반드시 신탁 원부를 확인하고, 신탁사의 동의서가 있는지 확인해야 합니다.'
    ),
    (
        '부동산 투자 사기', '부동산 개발 투자 사기는 빈번하게 발생합니다. 예를 들어, 특정 지역의 개발 계획이 확정되었다고 속여 투자금을 모집하거나, 가짜 개발 프로젝트를 제시하여 투자를 유도하는 방식입니다. 투자 사기에서는 항상 개발 계획에 대한 공식 문서와 허가서를 확인해야 하며, 프로젝트의 신뢰성과 개발 진행 상황을 정확히 파악해야 합니다.'
    ),
    (
        '신분 도용 사기', '범죄자가 다른 사람의 신분을 도용해 부동산을 불법으로 매매하거나, 임대 계약을 체결하는 경우도 있습니다. 이를 막기 위해서는 거래 상대방의 신분을 철저히 확인하고, 주민등록증 진위 확인 서비스를 통해 신분증의 유효성을 점검하는 것이 필요합니다.'
    ),
    (
        '입주권 사기', '재개발 지역에서 입주권을 빌미로 한 사기가 있습니다. 입주권을 보유한 것처럼 속여 계약을 체결하고 계약금을 챙기는 경우인데, 사실 입주권이 없는 경우가 많습니다. 입주권이 있는지, 권리 상태가 명확한지는 반드시 서류를 통해 확인해야 하며, 재개발 조합이나 관련 기관에 문의하여 입주권 소유 여부를 공식적으로 확인하는 것이 안전합니다.'
    ),
    (
        '지분 매매 사기', '부동산의 지분만을 매도하는 경우, 이를 전체 부동산처럼 속여 매매하는 경우가 있습니다. 특히 토지의 경우, 여러 명이 지분을 나눠 가진 상태에서 지분만을 매각한 후, 구매자가 전체 부동산을 소유했다고 착각하게 만듭니다. 이를 방지하려면 지분 매매 여부를 계약서에 명확히 명시하고, 전체 소유자의 동의가 필요한지 확인해야 합니다.'
    ),
    (
        '계약 전 선금 사기', '계약서를 작성하기 전, 계약금이나 선금을 요구하는 경우가 있습니다. 사기꾼은 계약이 성사되지도 않았는데도 선금을 받고 사라지는 경우가 많습니다. 항상 계약서 작성 후 계약금을 지급하고, 선금 요구는 신중하게 대응해야 합니다.'
    ),
    (
        '분양권 사기', '미리 분양된 아파트나 주택의 분양권을 거래하면서 허위 정보를 제공하거나, 존재하지 않는 분양권을 판매하는 경우가 있습니다. 분양권 거래 시, 해당 부동산이 정식 분양된 아파트인지, 입주 예정일이 정확한지 등을 확인해야 하며, 분양권 전매가 가능한지 법적인 부분도 확인해야 합니다.'
    ),
    (
        '등기 절차 속임수', '사기꾼은 등기 이전 절차를 제대로 하지 않고 서류를 속여 등기를 이전했다고 주장하는 경우가 있습니다. 계약 체결 후 실제로 등기가 이전되었는지 등기부 등본을 다시 확인하는 것이 중요하며, 등기 절차는 반드시 법적 전문가나 공인중개사를 통해 진행하는 것이 안전합니다.'
    ),
    (
        '제3자 위장 사기', '사기꾼이 제3자를 통해 거래를 주선하고, 실제 소유자가 아닌 사람이 소유권을 주장하는 경우입니다. 이를 방지하려면 등기부 등본 확인뿐만 아니라, 제3자의 위임장과 소유자 본인의 신분증을 반드시 검토해야 합니다.'
    ),
    (
        '부동산 자산 유동화 사기', '부동산 자산을 유동화시켜 수익을 보장해 준다고 유인하는 사기입니다. 금융상품처럼 부동산을 쪼개 투자자를 모집하는데, 실제로는 수익이 발생하지 않는 경우가 많습니다. 금융감독원이나 금융기관을 통해 해당 상품이 합법적인지 확인해야 합니다.'
    ),
    (
        '미등기 전매 사기', '분양된 부동산을 정식으로 등기하기 전에 전매(되파는 것)를 하여 사기를 치는 경우가 있습니다. 미등기 전매는 불법이므로, 분양권 거래 시에는 반드시 등기 이전 상태를 확인하고 정식 계약서로 거래해야 합니다.'
    ),
    (
        '리조트 및 별장 사기', '휴양지 리조트나 별장 부지를 가짜로 분양하는 사기입니다. 외진 지역에 있는 리조트나 별장을 분양하는 경우, 실제 소유권이 있는지 지방 자치단체에 확인하거나 현장 답사를 통해 정확한 정보를 얻어야 합니다.'
    ),
    (
        '소유권 말소 사기', '부동산을 매입한 후, 기존 소유자가 소유권을 말소시키고 도주하는 사기입니다. 계약 후 등기가 완료된 후에도, 일정 기간 동안 소유권 말소 가능성을 주기적으로 확인하고, 계약 이후 등기부 등본을 지속적으로 확인해야 합니다.'
    ),
    (
        '공동명의 사기', '공동명의로 부동산을 소유하게 하고, 공동명의자의 권리를 침해하거나 이를 악용하여 부동산을 무단으로 매각하는 경우입니다. 공동명의자는 동의서와 계약서 내용을 꼼꼼히 확인해야 하며, 분쟁이 발생하지 않도록 법적 문서를 체결하는 것이 중요합니다.'
    ),
    (
        '신탁 재산 이용 사기', '신탁 재산을 본인 소유로 속이고 거래를 진행하는 경우입니다. 신탁된 부동산은 신탁 원부를 통해 신탁 여부와 신탁사가 동의했는지 여부를 반드시 확인해야 합니다.'
    ),
    (
        '재개발 허위 정보 사기', '재개발 지역에서 가짜 정보를 퍼트리거나, 실제 개발 계획이 없는 지역에서 허위로 개발이 진행된다고 속여 투자자를 모집하는 경우입니다. 재개발 지역이라면 공식적인 재개발 계획과 허가서를 확인해야 하며, 정부와 관련 기관에 직접 확인하는 것이 안전합니다.'
    ),
    (
        '부동산 투기 조장 사기', '특정 지역의 부동산 가격이 급등할 것이라고 과장된 정보를 제공해 투기를 조장하는 사기입니다. 부동산 가격이 급등할 것이라는 정보는 공식 통계 자료나 신뢰할 수 있는 소식통을 통해 확인하고, 무분별한 투기에 빠지지 않도록 조심해야 합니다.'
    ),
    (
        '도시개발 조합 사기', '도시개발 조합을 가장해 조합원을 모집하고, 개발이 완료된 후 이익을 배분해 주겠다고 속이는 경우입니다. 도시개발 조합이 합법적으로 설립된 곳인지 확인하고, 공식 개발 계획서가 있는지 확인해야 합니다.'
    ),
    (
        '토지 분할 매매 사기', '큰 토지를 여러 명에게 나눠 파는 방식으로 토지를 분할 매매하지만, 실제로는 해당 토지를 법적으로 분할할 수 없는 경우에 발생하는 사기입니다. 토지 분할 가능 여부는 관할 구청이나 시청에 문의하여 확인해야 하며, 분할 매매가 가능한지 법적인 허가를 받아야 합니다.'
    ),
    (
        '조합원 분양 사기', '재건축 조합원이 아닌 사람이 조합원인 것처럼 속여 분양권을 팔거나 투자금을 받는 사기입니다. 조합원인지 여부는 조합에 직접 확인하고, 분양권 매매 시 법적 절차에 맞는지 확인해야 합니다.'
    ),
    (
        '경매 담보 사기', '부동산을 담보로 돈을 빌려주겠다고 한 후, 담보로 잡은 부동산을 경매에 넘기고 소유권을 빼앗는 사기입니다. 담보 계약을 체결할 때는 반드시 법률 전문가와 상담하고, 담보 설정이 적법한지 확인해야 합니다.'
    ),
    (
        '주택 리모델링 사기', '주택 리모델링을 통해 가치를 올려준다고 속인 후, 실제로는 리모델링을 제대로 하지 않거나 공사비만 받아 가는 사기입니다. 리모델링 계약 시에는 계약서에 구체적인 공사 내역과 비용을 명시하고, 공사 진행 상황을 주기적으로 점검해야 합니다.'
    ),
    (
        '외국인 대상 부동산 사기', '외국인을 대상으로 국내 부동산 매매 절차를 속여 사기를 치는 경우입니다. 외국인이 부동산을 거래할 때는 반드시 공인된 법률 대리인을 통해 절차를 확인하고, 부동산 소유권 이전이 정상적으로 이루어지는지 점검해야 합니다.'
    ),
    (
        '가족 및 친인척 사기', '가족이나 친인척을 이용해 부동산을 공동 투자하자고 제안한 후, 투자금을 가로채는 사기입니다. 가까운 사람일수록 모든 계약을 서류로 작성하고, 구두 약속에만 의존하지 말아야 합니다.'
    ),
    (
        '해외 부동산 사기', '해외 부동산을 구매하라고 권유하면서, 실제로는 존재하지 않는 허위 부동산을 판매하는 경우입니다. 해외 부동산을 구매할 때는 현지 부동산 법률 전문가와 상담하고, 해당 부동산이 실제 존재하는지 현지 법원이나 공공기관에 확인해야 합니다.'
    ),
    (
        '가짜 소유권 증명 사기', '가짜 소유권 증명서를 만들어 부동산을 판매하거나 임대하는 사기입니다. 소유권을 확인할 때는 공식 등기부 등본을 통해 확인하고, 소유자가 직접 서류를 제출하는지 확인해야 합니다.'
    ),
    (
        '전세 임대차보증금 두 번 받기 사기', '임대인이 보증금을 받은 후, 또 다른 세입자에게 중복으로 임대 계약을 체결해 두 번의 보증금을 가로채는 경우입니다. 전세 계약을 체결할 때는 반드시 전입신고와 확정일자를 받아 임차권을 보호해야 합니다.'
    ),
    (
        '토지 사용 제한 사기', '토지를 매매하면서, 해당 토지에 사용 제한이 있다는 사실을 숨기고 판매하는 경우입니다. 토지의 용도나 사용 제한 여부는 국토이용계획확인서를 통해 확인하고, 필요한 경우 변호사나 부동산 전문가의 도움을 받아야 합니다.'
    );

# FAQ
INSERT INTO faq_tbl (faq_question, faq_answer)
VALUES
    (
        '부동산 안전진단이란 무엇인가요?',
        '부동산 안전진단은 부동산의 물리적 상태, 법적 권리 관계, 안전성 등을 평가하여 거래나 투자 시 위험성을 사전에 확인하는 절차입니다. 이를 통해 예상하지 못한 문제를 예방할 수 있습니다.'
    ),
    (
        '지키미 서비스는 유료인가요?',
        '내 집 분석 기능을 제외한 실거래가 조회, 부동산 스터디 등의 기능은 무료로 제공됩니다.'
    ),
    (
        '한 번 분석한 집은 지속 조회가 가능한가요?',
        '한 번 분석을 마친 집에 대해서는 지속 조회가 가능하나, 최신화된 정보를 갖기 위해선 재분석을 하는 것이 좋습니다.'
    ),
    (
        '부동산 거래 시 확인해야 할 서류는 어떤 것들이 있나요?',
        '부동산 거래 시 확인해야 할 필수 서류에는 등기부등본, 건축물대장, 토지이용계획서, 부동산거래계약서 등이 있습니다. 이를 원클릭으로 분석해주는 서비스가 \'부동산 안전진단\' 서비스입니다.'
    ),
    (
        '부동산 사기는 주로 어떤 방식으로 발생하나요?',
        '대표적인 부동산 사기 시나리오로는 이중계약, 가짜 등기부등본 제출, 시세 조작, 전세 사기 등이 있습니다. 이러한 사기 수법은 매매나 임대차 계약에서 발생할 수 있으며, 이를 예방하기 위해서는 지키미 서비스를 이용해주십시오.'
    ),
    (
        '안전한 부동산 계약을 위해 꼭 알아야 할 용어는 무엇인가요?',
        '계약서에 자주 등장하는 중요한 용어로는 ‘근저당권’, ‘저당권’, ‘담보’, ‘매매대금’, ‘임차권’, ‘전세권’, ‘등기’ 등이 있습니다. 관련한 부동산 용어는 \'부동산 용어사전\' 서비스에서 확인가능합니다.'
    ),
    (
        '부동산 안전진단을 받을 때 주요 점검 항목은 무엇인가요?',
        '주요 점검 항목에는 건물의 소유권 및 저당권, 주용도, 위반건축물 여부, 대지권등기 등이 있습니다.'
    );




# 줌인앤아웃 관련 테이블
DROP TABLE IF EXISTS zoom_levels;
CREATE TABLE zoom_levels (
                             zoom_level INT PRIMARY KEY,
                             lat_range DECIMAL(10, 6),
                             lon_range DECIMAL(10, 6)
);
INSERT INTO zoom_levels (zoom_level, lat_range, lon_range) VALUES
                                                               (13, 3.72996, 9.89265),
                                                               (12, 1.84780, 4.96287),
                                                               (11, 0.91583, 2.48355),
                                                               (10, 0.45702, 1.24239),
                                                               (9, 0.22827, 0.62134),
                                                               (8, 0.11408, 0.31071),
                                                               (7, 0.05704, 0.15536),
                                                               (6, 0.02851, 0.07768),
                                                               (5, 0.01425, 0.03884),
                                                               (4, 0.00713, 0.01942),
                                                               (3, 0.00356, 0.00971),
                                                               (2, 0.00178, 0.00486),
                                                               (1, 0.00089, 0.00243);
SELECT * FROM zoom_levels;


# property 관련 테이블 설정!
SET GLOBAL local_infile = 1;
show global variables like 'local_infile';

# property_tbl 삭제
# ALTER TABLE like_property_tbl DROP FOREIGN KEY like_property_tbl_ibfk_2;
# ALTER TABLE analysis_tbl DROP FOREIGN KEY analysis_tbl_ibfk_1;
# property_tbl 관련 추가!
DROP TABLE IF EXISTS property_tbl_all;

CREATE TABLE property_tbl_all (
                                  property_no int PRIMARY KEY AUTO_INCREMENT,
                                  property_addr_sigungu_code int not null,
                                  property_addr_sigungu varchar(200) not null,
                                  property_addr_bubjung_code int not null,
                                  property_addr_bubjung varchar(200) not null,
                                  property_addr_bonbun int,
                                  property_addr_bubun int,
                                  property_addr_floor int,
                                  property_addr_building_name varchar(50),
                                  contract_date int,
                                  trade_type varchar(50),
                                  property_building_area float,
                                  deposit int,
                                  rent int,
                                  price int,
                                  property_land_area float,
                                  contract_right_type varchar(50),
                                  contract_type varchar(50),
                                  contract_offce_name varchar(50),
                                  building_year int,
                                  property_type varchar(50),
                                  contract_period varchar(50),
                                  contract_renewed varchar(50),
                                  contract_renew_used varchar(50),
                                  deposit_previous int,
                                  rent_previous int,
                                  property_jibun_juso varchar(200),
                                  location_no int,
                                  formated_date date,
                                  formated_price DECIMAL(10,2),
                                  property_type_code int,
                                  trade_type_code int
);

LOAD DATA LOCAL INFILE './estate_property_tbl_all_final.csv'
    INTO TABLE estate.property_tbl_all
    FIELDS TERMINATED BY ',' -- 필드 구분자를 콤마로 설정
    OPTIONALLY ENCLOSED BY '"' -- 필드가 큰따옴표로 감싸져 있는 경우 처리
    LINES TERMINATED BY '\r\n' -- 윈도우 형식의 줄바꿈 (\r\n)
    IGNORE 1 ROWS; -- 첫 번째 헤더 행을 무시


SELECT * FROM property_tbl_all;


# location 관련 tbl
DROP TABLE IF EXISTS property_location;
CREATE TABLE property_location (
                                   location_no int AUTO_INCREMENT PRIMARY KEY,
                                   property_jibun_juso VARCHAR(50) NOT NULL,
                                   property_doro_juso VARCHAR(50),
                                   zipcode int,
                                   x_coordinate VARCHAR(255),
                                   y_coordinate VARCHAR(255),
                                   formated_price DECIMAL(10,2),
                                   jibun_juso VARCHAR(50)

);


LOAD DATA LOCAL INFILE './estate_property_location_final.csv'
    INTO TABLE estate.property_location
    FIELDS TERMINATED BY ',' -- 필드 구분자를 콤마로 설정
    OPTIONALLY ENCLOSED BY '"' -- 필드가 큰따옴표로 감싸져 있는 경우 처리
    LINES TERMINATED BY '\r\n' -- 윈도우 형식의 줄바꿈 (\r\n)
    IGNORE 1 ROWS; -- 첫 번째 헤더 행을 무시

UPDATE estate.property_location
SET jibun_juso = LPAD(jibun_juso, CHAR_LENGTH(jibun_juso) + 1, '0')
WHERE CHAR_LENGTH(jibun_juso) < 5;

SELECT * FROM property_location;
SELECT count(*) from property_location;


# report_tbl 샘플 데이터
# INSERT INTO report_tbl (property_no, analysis_no, address, violation_structure, total_score, deposit, rent, price, jeonse_rate, maximum_of_bond, ownership, change_owner_count, accord_owner, common_owner, owner_state, use_type)
# VALUES
#     (1, 101, 'Seoul, Gangnam-gu, Apgujeong-dong', 1, 85, 50000, 2000, 800000, 60, 30000, 'Kim Minho', 1, 1, 'Kim Minho', 75.5, 'Residential'),
#     (2, 102, 'Seoul, Jongno-gu, Samcheong-dong', 0, 92, 0, 0, 1200000, 0, 0, 'Choi Sumin', 0, 1, 'Choi Sumin', 85.0, 'Commercial'),
#     (3, 103, 'Busan, Haeundae-gu, Jwa-dong', 1, 78, 10000, 500, 500000, 50, 25000, 'Park Jihyun', 2, 0, 'Park Jihyun', 65.0, 'Mixed'),
#     (4, 104, 'Incheon, Yeonsu-gu, Songdo-dong', 0, 88, 30000, 1000, 700000, 45, 20000, 'Lee Jun', 1, 1, 'Lee Jun', 80.0, 'Residential'),
#     (5, 105, 'Daegu, Suseong-gu, Beomeo-dong', 0, 90, 0, 0, 1100000, 0, 0, 'Oh Seungmin', 0, 1, 'Oh Seungmin', 95.0, 'Commercial'),
#     (6, 106, 'Gwangju, Dong-gu, Hak-dong', 1, 65, 15000, 800, 400000, 60, 22000, 'Jang Hyejin', 3, 0, 'Jang Hyejin', 55.5, 'Residential'),
#     (7, 107, 'Daejeon, Seo-gu, Dunsan-dong', 0, 80, 20000, 1000, 600000, 55, 18000, 'Yoon Jiho', 1, 1, 'Yoon Jiho', 70.0, 'Mixed'),
#     (8, 108, 'Seoul, Seocho-gu, Banpo-dong', 0, 93, 60000, 2500, 900000, 65, 32000, 'Kim Hana', 2, 1, 'Kim Hana', 88.0, 'Residential'),
#     (9, 109, 'Gyeonggi, Suwon-si, Yeongtong-gu', 1, 72, 12000, 600, 480000, 55, 17000, 'Shin Donghyuk', 1, 0, 'Shin Donghyuk', 60.0, 'Commercial'),
#     (10, 110, 'Ulsan, Nam-gu, Samsan-dong', 1, 25, 10000, 500, 520000, 60, 20000, 'Han Seoyeon', 3, 0, 'Han Seoyeon', 66.5, 'Residential'),
#     (11, 111, 'Jeju, Jeju-si, Nohyeong-dong', 0, 89, 0, 0, 1050000, 0, 0, 'Kim Jisoo', 0, 1, 'Kim Jisoo', 92.0, 'Commercial'),
#     (12, 112, 'Seoul, Mapo-gu, Sangsu-dong', 0, 81, 25000, 1200, 720000, 52, 25000, 'Kang Minwoo', 2, 1, 'Kang Minwoo', 75.0, 'Mixed'),
#     (13, 113, 'Busan, Suyeong-gu, Gwangalli', 1, 77, 17000, 700, 560000, 48, 23000, 'Lee Soyeon', 1, 0, 'Lee Soyeon', 62.0, 'Residential'),
#     (14, 114, 'Gyeonggi, Yongin-si, Giheung-gu', 0, 84, 22000, 900, 680000, 50, 19000, 'Jung Hyunwoo', 2, 1, 'Jung Hyunwoo', 78.5, 'Commercial'),
#     (15, 115, 'Seoul, Seodaemun-gu, Sinchon-dong', 1, 87, 45000, 2000, 850000, 58, 29000, 'Kim Taehyun', 1, 1, 'Kim Taehyun', 82.0, 'Residential');
#
# INSERT INTO member_report_tbl (member_no, report_no)
# VALUES
#     (1, 4),
#     (1, 5),
#     (2, 6),
#     (2, 7),
#     (3, 8),
#     (3, 9),
#     (4, 10),
#     (4, 11),
#     (5, 12),
#     (5, 13),
#     (6, 14),
#     (6, 15),
#     (7, 16),
#     (7, 17),
#     (8, 18);

select * from bml_tbl;
select * from cor_tbl;
select * from report_tbl;
select * from analysis_tbl;